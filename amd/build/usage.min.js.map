{"version":3,"file":"usage.min.js","sources":["../src/usage.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Helper function to build JS vendor path.\n *\n * @param {string} path\n * @returns {string}\n */\nconst vendorJSURL = function(path) {\n    return M.cfg.wwwroot + '/report/myfeedback/vendor/js/' + path + '.min';\n};\n\nrequire.config({\n    paths: {\n        'datatables.net': vendorJSURL('jquery.dataTables'),\n        'datatables.net-buttons': vendorJSURL('dataTables.buttons'),\n        'datatables.net-colreorder': vendorJSURL('dataTables.colReorder'),\n        'datatables.net-fixedheader': vendorJSURL('dataTables.fixedHeader'),\n        'datatables.net-responsive': vendorJSURL('dataTables.responsive'),\n    },\n});\n\ndefine([\n    'jquery',\n    'datatables.net',\n    'datatables.net-buttons',\n    'datatables.net-colreorder',\n    'datatables.net-fixedheader',\n    'datatables.net-responsive',\n], function($) {\n\n    return {\n        init: function() {\n            $(document).ready( function () {\n\n                $('#reportSelect').change(function(){\n                    $('#report_form_select').submit();\n                });\n\n                $('#categorySelect').change(function(){\n                    $('#report_category_select').submit();\n                });\n\n                $('td#long-name').css({\n                    'max-width': '300px',\n                    'white-space': 'nowrap',\n                    'overflow': 'hidden',\n                    'text-overflow': 'ellipsis'\n                });\n\n                $('#userstable').DataTable({\n                    'dom': 'rtip',\n                    'order': [[0, 'asc' ]]\n                });\n\n                $('#usagetable').DataTable({\n                    pageLength: -1,\n                    filtering: false,\n                    ordering: true,\n                    searching: false,\n                    pagination: false,\n                    order: [[1, 'desc']]\n                });\n\n                $('.reportPrint').on('click', function () {\n                    print();\n                });\n\n                $('.x_port').on('click', function() {\n                    window.location.href= 'export.php';\n                });\n\n            });\n        }\n    };\n});\n"],"names":["vendorJSURL","path","M","cfg","wwwroot","require","config","paths","define","$","init","document","ready","change","submit","css","DataTable","pageLength","filtering","ordering","searching","pagination","order","on","print","window","location","href"],"mappings":"AAqBA,IAAMA,YAAc,SAASC,aAClBC,EAAEC,IAAIC,QAAU,gCAAkCH,KAAO,QAGpEI,QAAQC,OAAO,CACXC,MAAO,kBACeP,YAAY,8CACJA,YAAY,kDACTA,YAAY,sDACXA,YAAY,sDACbA,YAAY,4BAIjDQ,iCAAO,CACH,SACA,iBACA,yBACA,4BACA,6BACA,8BACD,SAASC,SAED,CACHC,KAAM,WACFD,EAAEE,UAAUC,OAAO,WAEfH,EAAE,iBAAiBI,QAAO,WACtBJ,EAAE,uBAAuBK,YAG7BL,EAAE,mBAAmBI,QAAO,WACxBJ,EAAE,2BAA2BK,YAGjCL,EAAE,gBAAgBM,IAAI,aACL,sBACE,kBACH,yBACK,aAGrBN,EAAE,eAAeO,UAAU,KAChB,aACE,CAAC,CAAC,EAAG,UAGlBP,EAAE,eAAeO,UAAU,CACvBC,YAAa,EACbC,WAAW,EACXC,UAAU,EACVC,WAAW,EACXC,YAAY,EACZC,MAAO,CAAC,CAAC,EAAG,WAGhBb,EAAE,gBAAgBc,GAAG,SAAS,WAC1BC,WAGJf,EAAE,WAAWc,GAAG,SAAS,WACrBE,OAAOC,SAASC,KAAM"}